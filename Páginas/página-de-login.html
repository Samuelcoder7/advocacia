<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - Monica Valentim</title>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- CSS externo -->
  <link rel="stylesheet" href="../css/Página-de-login.css" />

  <!-- Favicon -->
  <link rel="icon" href="../Fotos/favicon_io (1)/favicon-32x32.png" type="image/x-icon"> 

</head>
<body>
  <!-- Botão para ativar modo escuro -->
  <button id="toggle-dark-mode" onclick="toggleDarkMode()">Modo Escuro</button>

  <main class="container-login">
    <form id="form-login">
      <h1>Login</h1>

      <div class="input-box">
        <input type="email" id="email" placeholder="E-mail" required />
        <i class="fas fa-envelope"></i>
      </div>

      <div class="input-box">
        <input type="password" id="senha" placeholder="Senha" required />
        <i class="fas fa-lock"></i>
      </div>

      <div class="esquecisenha">
        <label><input type="checkbox" /> Lembrar senha</label><br>
        
      </div><br>

      <button type="submit">Login</button>

      <div class="registrar">
        <p>Não tem uma conta? <a href="Página-de-cadastro.html">Cadastre-se</a></p>
      </div>
    </form>
  </main>

  <footer>
    © 2025 Monica Valentim - Todos os direitos reservados.
  </footer>

  <script>
    // Dark mode ao carregar
    if (localStorage.getItem('dark-mode') === 'true') {
      document.documentElement.classList.add('dark-mode');
      document.body.classList.add('dark-mode');
    }

    function toggleDarkMode() {
      document.documentElement.classList.toggle('dark-mode');
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('dark-mode', document.body.classList.contains('dark-mode'));
    }

    // Login
    document.getElementById("form-login").addEventListener("submit", function(event) {
      event.preventDefault();

      const email = document.getElementById("email").value.trim();
      const senha = document.getElementById("senha").value;
      const usuarioSalvo = JSON.parse(localStorage.getItem('usuario'));

      if (!usuarioSalvo) {
        alert("Nenhum usuário cadastrado. Por favor, cadastre-se primeiro.");
        window.location.href = 'Página-de-cadastro.html';
        return;
      }

      if (email === usuarioSalvo.email && senha === usuarioSalvo.senha) {
        alert("Login realizado com sucesso!");
        localStorage.setItem("usuarioCadastrado", "true");

        // Redireciona corretamente com o nome acentuado
        window.location.href = '../Páginas/confirmacao.html';
      } else {
        alert("E-mail ou senha incorretos.");
      }
    });
  </script>
</body>
</html>

